<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Verify — EXIST GAMER</title>
<style>
  :root{--bg:#041426;--card:#082034;--muted:#9fbfcc;--accent:#06b6d4;--radius:12px}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,Arial;background:linear-gradient(180deg,var(--bg),#031827);color:#eafcff;padding:18px}
  .card{background:var(--card);padding:14px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.03);max-width:720px;margin:0 auto}
  input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(2,12,20,0.6);color:#eaffff;margin-top:8px}
  .btn{padding:10px 12px;border-radius:8px;border:none;font-weight:700;cursor:pointer;margin-top:10px}
  .btn-primary{background:linear-gradient(90deg,var(--accent),#16a34a);color:#02120a}
  .muted{color:var(--muted)}
  .info{margin-top:12px;font-weight:700}
</style>
</head>
<body>
  <div class="card" id="box">
    <h2 style="margin:0">Room Verification</h2>
    <div class="muted" style="margin-top:8px">Enter your registered UID to verify. Only registered (and paid if required) users pass.</div>

    <div style="margin-top:12px">
      <label class="muted">Room ID</label>
      <div id="roomId" style="font-weight:700"></div>

      <label class="muted" style="margin-top:10px">Enter UID</label>
      <input id="userUid" placeholder="Enter your Free Fire UID">
      <button class="btn btn-primary" id="verifyBtn">Verify</button>

      <div id="msg" class="info"></div>
      <div id="playerInfo" style="margin-top:10px;color:var(--muted)"></div>
    </div>
  </div>

<script>
const SKEY="existG_settings_v2", PKEY="existG_players_v2";
(function(){
  const s = JSON.parse(localStorage.getItem(SKEY) || "{}");
  const p = JSON.parse(localStorage.getItem(PKEY) || "[]");
  document.getElementById("roomId").textContent = s.roomId || "Not set by admin";
  const btn = document.getElementById("verifyBtn");
  btn.addEventListener("click", ()=>{
    const uid = (document.getElementById("userUid").value||"").trim().replace(/\D/g,'');
    const msg = document.getElementById("msg"), pinfo = document.getElementById("playerInfo");
    msg.textContent=""; pinfo.textContent="";
    if(!uid){ msg.style.color="#ff6b6b"; msg.textContent="Enter UID."; return; }
    const found = p.find(x=>(''+x.uid).replace(/\D/g,'') === uid);
    if(!found){ msg.style.color="#ff6b6b"; msg.textContent="Not registered."; return; }
    if((s.regOpen===0) && (!found.paid)){ msg.style.color="#ff6b6b"; msg.textContent="Registration closed / Payment pending."; pinfo.textContent=`Name: ${found.name} • UID: ${found.uid}`; return; }
    // success
    msg.style.color="#34d399"; msg.textContent="Verified ✅ You may join the room.";
    pinfo.textContent = `Name: ${found.name || '(no name)'} • UID: ${found.uid} • Status: ${found.paid? 'Paid':'Pending'}`;
  });
})();
</script>
</body>
</html>
